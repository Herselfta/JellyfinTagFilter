# 更新日志

所有重要的更改都会记录在此文件中。

## [2.0.0] - 2025-11-01

### 🎉 重大更新：持久化体验优化

**核心改进：一次配置，永久使用！**

### ✨ 新增功能

#### 配置持久化
- 🔗 **URL 参数配置** - 支持通过 URL 传入配置，实现一键访问
- 📋 **分享链接功能** - 一键生成带配置的访问链接，保存后随时使用
- 💾 **配置导入导出** - 支持导出为 JSON 文件，可在多设备间同步
- 📂 **配置文件导入** - 支持从文件快速恢复配置

#### PWA 体验优化
- 📱 **智能安装提示** - 首次使用时引导用户添加到主屏幕
- 🎯 **安装状态检测** - 自动检测是否已安装为 PWA
- 📖 **安装指南** - 内置 iOS/Android 安装说明

#### 部署优化
- ⚡ **智能部署** - 自动检测文件变化，避免不必要的部署
- 📊 **版本追踪** - 记录部署版本，只在需要时更新
- 🔄 **强制部署** - 支持 `-Force` 参数强制重新部署

#### 开发工具
- 🛠️ **快捷链接生成器** (`create_shortcut.ps1`) - 快速生成配置链接
- 📝 **持久化指南** (`PERSISTENCE_GUIDE.md`) - 完整的使用说明

### 🔧 改进

- 📱 更友好的移动端提示文案
- 🎨 配置面板增加持久化提示区域
- 📖 更新所有文档以反映新功能
- 🌐 中文本地化改进

### 🐛 修复

- 修复 CSS webkit-line-clamp 兼容性警告
- 优化 localStorage 读取逻辑
- 改进 URL 参数解析安全性

### 📚 文档更新

- 📝 新增 `PERSISTENCE_GUIDE.md` - 持久化完整指南
- 📝 更新 `README.md` - 添加持久化使用说明
- 📝 更新 `QUICKSTART.md` - 简化快速开始流程
- 📝 更新 `.gitignore` - 排除部署版本文件

### 💡 使用建议

**推荐工作流:**
1. 首次部署: `.\deploy.ps1`
2. 完成配置后: 点击"分享链接"按钮
3. 保存链接到: 浏览器书签 / 手机备忘录
4. 添加到主屏幕: 获得原生应用体验
5. 日常使用: 直接从书签/主屏幕打开

**无需重复操作:**
- ❌ 无需重复部署（文件未变化时自动跳过）
- ❌ 无需重复配置（链接自动配置）
- ❌ 无需记住地址（保存链接即可）

---

## [1.0.0] - 2025-10-25

### 新增功能
- ✨ AND 逻辑标签筛选（核心功能）
- ✨ PWA 支持，可添加到手机主屏幕
- ✨ Jellyfin 原生黑色主题
- ✨ 同页面内播放（使用 Jellyfin 内置播放器）
- ✨ 手动屏幕方向控制（自动/横屏/竖屏）
- ✨ 全屏自动旋转支持
- ✨ 响应式设计，完美适配手机/平板/电脑
- ✨ 网格/列表双视图
- ✨ 标签搜索功能
- ✨ 配置自动保存（LocalStorage）

### 技术特性
- 📦 单文件 HTML 应用
- 🔌 调用 Jellyfin REST API
- 💾 浏览器本地存储配置
- 🎨 CSS 变量主题系统
- 📱 触摸友好的交互设计

### 文档
- 📝 完整的 README.md
- 📝 详细使用文档（docs/）
- 📝 一键部署脚本
- 📝 测试指南

---

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)

